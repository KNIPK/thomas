{% extends "KniThomasBundle::layout.html.twig" %}

{%block content%}

<meta charset="utf-8" />
<script src="{{ asset('js/jquery-ui/jquery-1.9.1.js')}}"></script>
<script src="{{ asset('js/jquery-ui/ui/jquery-ui.js')}}"></script>
<link rel="stylesheet" href="{{ asset('js/jquery-ui/themes/base/jquery-ui.css')}}" />
<link rel="stylesheet" href="" />
<style>
        #stepsList { list-style-type: none; margin: 0; padding: 0; width: 90%; }
        #stepsList li { margin: 3px 3px 3px 0; padding: 1px; float: left; width: 100px; height: 90px;  text-align: center; }
    </style>
    <script>
        $(function() {
            $("#stepsList").sortable();
            $("#stepsList").disableSelection();
        });
        </script>
    </head>
    <body>

        <ul id="stepsList">
            <li class="ui-state-default"><button id="create-user">Dodaj etap</button></li>
        </ul>

        <style>

                label, input { display:block; }
                input.text { margin-bottom:12px; width:95%; padding: .4em; }
                fieldset { padding:0; border:0; margin-top:25px; }
                h1 { font-size: 1.2em; margin: .6em 0; }
                div#users-contain { width: 350px; margin: 20px 0; }
                div#users-contain table { margin: 1em 0; border-collapse: collapse; width: 100%; }
                div#users-contain table td, div#users-contain table th { border: 1px solid #eee; padding: .6em 10px; text-align: left; }
                .ui-dialog .ui-state-error { padding: .3em; }
                .validateTips { border: 1px solid transparent; padding: 0.3em; }
            </style>
            <script>
                $(function() {
                    var name = $("#name"),
                            description = $("#description"),
                            password = $("#password"),
                            allFields = $([]).add(name).add(description).add(password),
                            tips = $(".validateTips");

                    function updateTips(t) {
                        tips
                                .text(t)
                                .addClass("ui-state-highlight");
                        setTimeout(function() {
                            tips.removeClass("ui-state-highlight", 1500);
                        }, 500);
                    }

                    function checkLength(o, n, min, max) {
                        if (o.val().length > max || o.val().length < min) {
                            o.addClass("ui-state-error");
                            updateTips("Length of " + n + " must be between " +
                                    min + " and " + max + ".");
                            return false;
                        } else {
                            return true;
                        }
                    }

                    function checkRegexp(o, regexp, n) {
                        if (!(regexp.test(o.val()))) {
                            o.addClass("ui-state-error");
                            updateTips(n);
                            return false;
                        } else {
                            return true;
                        }
                    }

                    $("#dialog-form").dialog({
                        autoOpen: false,
                        height: 300,
                        width: 350,
                        modal: true,
                        buttons: {
                            "Dodaj etap": function() {
                                   
                                    $("#stepsList").append("<li class=\"ui-state-default\">"+ name.val() + "</br>" +
                                            description.val() + "</li>");
                                   

                                    $(this).dialog("close");
                                
                            }
                        },
                        close: function() {
                            allFields.val("").removeClass("ui-state-error");
                        }
                    });

                    $("#create-user")
                            .button()
                            .click(function() {
                        $("#dialog-form").dialog("open");
                    });
                });
                </script>
            </head>
        <body>

            <div id="dialog-form" title="UtwÃ³rz nowy etap">


                <form>
                    <fieldset>
                        <label for="name">Nazwa etapu</label>
                        <input type="text" name="name" id="name" class="text ui-widget-content ui-corner-all" />
                        <label for="description">Opis</label>
                        <input type="text" name="description" id="description" class="text ui-widget-content ui-corner-all" />
                    </fieldset>
                </form>
            </div>



{%endblock%}